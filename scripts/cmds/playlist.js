const _0x154dd1=_0x1a4b;(function(_0x27ef5b,_0x13b07e){const _0x44dfed=_0x1a4b,_0x3e6252=_0x27ef5b();while(!![]){try{const _0x205ce3=parseInt(_0x44dfed(0x99))/0x1*(parseInt(_0x44dfed(0x84))/0x2)+-parseInt(_0x44dfed(0x7e))/0x3*(parseInt(_0x44dfed(0x9c))/0x4)+-parseInt(_0x44dfed(0xae))/0x5*(-parseInt(_0x44dfed(0x8a))/0x6)+-parseInt(_0x44dfed(0x97))/0x7*(parseInt(_0x44dfed(0x9a))/0x8)+parseInt(_0x44dfed(0x7c))/0x9+-parseInt(_0x44dfed(0x9b))/0xa*(parseInt(_0x44dfed(0x8e))/0xb)+parseInt(_0x44dfed(0x76))/0xc*(parseInt(_0x44dfed(0x72))/0xd);if(_0x205ce3===_0x13b07e)break;else _0x3e6252['push'](_0x3e6252['shift']());}catch(_0x38e5aa){_0x3e6252['push'](_0x3e6252['shift']());}}}(_0x41f6,0xf4044));function _0x1a4b(_0xfc7f73,_0xee25e5){const _0x41f697=_0x41f6();return _0x1a4b=function(_0x1a4b8e,_0x287445){_0x1a4b8e=_0x1a4b8e-0x68;let _0x27396c=_0x41f697[_0x1a4b8e];return _0x27396c;},_0x1a4b(_0xfc7f73,_0xee25e5);}const fs=require(_0x154dd1(0xa0)),axios=require('axios'),path=require('path'),yts=require(_0x154dd1(0xa3)),{randomString}=global[_0x154dd1(0x79)],playlistPath=path[_0x154dd1(0x82)](__dirname,'vs2.json'),PAGE_SIZE=0xf;async function fetchDownloadLink(_0x401680){const _0x4e1d89=_0x154dd1,_0x37f58a=_0x4e1d89(0x6a)+_0x401680,_0x14fe7b=await axios['get'](_0x37f58a);if(_0x14fe7b[_0x4e1d89(0x83)]&&_0x14fe7b[_0x4e1d89(0x83)][_0x4e1d89(0x83)]&&_0x14fe7b[_0x4e1d89(0x83)][_0x4e1d89(0x83)]['link'])return _0x14fe7b[_0x4e1d89(0x83)][_0x4e1d89(0x83)][_0x4e1d89(0x89)];throw new Error(_0x4e1d89(0x6d));}async function downloadAudio(_0x5b54a8,_0x1b2461){const _0x129ed0=_0x154dd1;try{const _0xbda13a=await axios({'method':_0x129ed0(0x7f),'url':_0x5b54a8,'responseType':_0x129ed0(0x73),'timeout':0x7530}),_0x542c2b=fs[_0x129ed0(0x8c)](_0x1b2461);return _0xbda13a[_0x129ed0(0x83)]['pipe'](_0x542c2b),new Promise((_0x58efaa,_0x2a3f4e)=>{const _0x36bd96=_0x129ed0;_0x542c2b['on'](_0x36bd96(0x75),_0x58efaa),_0x542c2b['on'](_0x36bd96(0x69),_0x2a3f4e);});}catch(_0x430bef){throw new Error(_0x129ed0(0xb2)+_0x430bef[_0x129ed0(0x6f)]);}}function loadPlaylists(){const _0x4304ac=_0x154dd1;if(fs[_0x4304ac(0x95)](playlistPath))return fs[_0x4304ac(0x7d)](playlistPath);return{};}function savePlaylists(_0x5d2267){fs['writeJsonSync'](playlistPath,_0x5d2267,{'spaces':0x2});}module[_0x154dd1(0x70)]={'config':{'name':'playlist','version':_0x154dd1(0x6c),'author':_0x154dd1(0x6e),'category':'music','dependencies':{'fs-extra':'','axios':''}},'onStart':async function({api:_0x193f75,event:_0x145a60,message:_0x443b89}){const _0x584f20=_0x154dd1,_0x54cc73=loadPlaylists(),_0x5e342f=_0x145a60['senderID'],_0x4758d6=_0x145a60[_0x584f20(0xa8)][_0x584f20(0xa6)](),_0x2cf711=_0x4758d6[_0x584f20(0xb4)]('\x20'),_0xc6efd0=_0x2cf711[0x1];_0x2cf711[_0x584f20(0xad)](0x0,0x2);if(_0xc6efd0===_0x584f20(0x8b)){const _0x4da9f6=_0x2cf711[_0x584f20(0xaa)]('\x20')[_0x584f20(0xb4)]('\x20|\x20');if(!_0x54cc73[_0x5e342f])_0x54cc73[_0x5e342f]=[];let _0x56216b=[];for(const _0x2d069b of _0x4da9f6){const _0x39b81f=await yts(_0x2d069b['trim']()),_0x125236=_0x39b81f['videos'][0x0];_0x125236&&(_0x54cc73[_0x5e342f][_0x584f20(0xac)]({'query':_0x125236[_0x584f20(0x77)],'videoId':_0x125236['videoId'],'author':_0x125236[_0x584f20(0xab)][_0x584f20(0x9d)],'duration':_0x125236[_0x584f20(0x8d)]}),_0x56216b[_0x584f20(0xac)](_0x125236['title']));}return savePlaylists(_0x54cc73),_0x443b89['reply'](_0x584f20(0x78)+_0x56216b[_0x584f20(0xaa)](',\x20')+_0x584f20(0x80));}else{if(_0xc6efd0===_0x584f20(0xa1)){const _0x398c0d=parseInt(_0x2cf711[0x0],0xa)-0x1;if(isNaN(_0x398c0d)||_0x398c0d<0x0||_0x398c0d>=(_0x54cc73[_0x5e342f]||[])[_0x584f20(0x86)])return _0x443b89[_0x584f20(0x92)](_0x584f20(0x96));const _0x4a181c=_0x54cc73[_0x5e342f][_0x584f20(0xad)](_0x398c0d,0x1);return savePlaylists(_0x54cc73),_0x443b89['reply'](_0x584f20(0x91)+_0x4a181c[0x0]['query']+_0x584f20(0x94));}else{if(_0xc6efd0===_0x584f20(0x81)){if(_0x54cc73[_0x5e342f])return delete _0x54cc73[_0x5e342f],savePlaylists(_0x54cc73),_0x443b89[_0x584f20(0x92)]('üîÑ\x20Your\x20playlist\x20has\x20been\x20reset.');return _0x443b89[_0x584f20(0x92)](_0x584f20(0x88));}else return _0xc6efd0===undefined?displayPlaylist(_0x193f75,_0x443b89,_0x5e342f,_0x54cc73,0x1):_0x443b89[_0x584f20(0x92)](_0x584f20(0x74));}}},'onReply':async function({api:_0x2b34ce,event:_0x394cc0,Reply:_0x3a9ac7,message:_0x4eff4d}){const _0x18e702=_0x154dd1;if(String(_0x394cc0[_0x18e702(0xa4)])!==String(_0x3a9ac7[_0x18e702(0x93)]))return;const {playlist:_0x54c7e1,currentPage:_0x4bbc2e,sentMessageID:_0xc5a086}=_0x3a9ac7,_0x102b85=_0x394cc0['body'][_0x18e702(0xa6)](),_0x5bec46=parseInt(_0x102b85,0xa);if(!isNaN(_0x5bec46)){if(_0x5bec46<0x1||_0x5bec46>_0x54c7e1[_0x18e702(0x86)])return _0x4eff4d[_0x18e702(0x92)](_0x18e702(0x68));const _0x4adef7=_0x54c7e1[_0x5bec46-0x1];try{_0x2b34ce[_0x18e702(0x87)]('‚è≥',_0x394cc0[_0x18e702(0xa5)],_0x394cc0[_0x18e702(0xa5)],_0x2b34ce);const _0xaf9e73=await _0x4eff4d[_0x18e702(0x92)]('üîç\x20Preparing\x20to\x20play\x20\x22'+_0x4adef7[_0x18e702(0x7a)]+_0x18e702(0x98)),_0x391d3d=await fetchDownloadLink(_0x4adef7[_0x18e702(0xb3)]),_0x260fe5=path[_0x18e702(0x82)](__dirname,randomString()+_0x18e702(0x6b));await downloadAudio(_0x391d3d,_0x260fe5);const _0x2eac5d={'body':_0x18e702(0x90)+_0x4adef7[_0x18e702(0x7a)]+'\x0aAuthor:\x20'+_0x4adef7[_0x18e702(0xab)]+'\x0aDuration:\x20'+_0x4adef7[_0x18e702(0xa7)],'attachment':fs[_0x18e702(0x71)](_0x260fe5)};_0x2b34ce[_0x18e702(0x8f)](_0xaf9e73[_0x18e702(0xa5)]),_0x2b34ce[_0x18e702(0x87)]('‚úÖ',_0x394cc0[_0x18e702(0xa5)],_0x394cc0[_0x18e702(0xa5)],_0x2b34ce),_0x4eff4d[_0x18e702(0x92)](_0x2eac5d,()=>{fs['unlinkSync'](_0x260fe5);});}catch(_0x42f0e9){console['error']('[ERROR]',_0x42f0e9),_0x4eff4d[_0x18e702(0x92)](_0x18e702(0x9e));}}else{if(/^page\s+\d+$/i[_0x18e702(0x9f)](_0x102b85)){const _0x2f855e=parseInt(_0x102b85[_0x18e702(0xb4)]('\x20')[0x1],0xa);return _0xc5a086&&_0x2b34ce[_0x18e702(0x8f)](_0xc5a086),displayPlaylist(_0x2b34ce,_0x4eff4d,_0x3a9ac7['author'],{[_0x3a9ac7[_0x18e702(0xab)]]:_0x54c7e1},_0x2f855e);}else return _0x4eff4d[_0x18e702(0x92)](_0x18e702(0xa9));}}};function displayPlaylist(_0x720067,_0x1a5770,_0x42b6d4,_0x51e412,_0x24510f){const _0x4cd1a3=_0x154dd1,_0x3416b1=_0x51e412[_0x42b6d4];if(!_0x3416b1||_0x3416b1['length']===0x0)return _0x1a5770[_0x4cd1a3(0x92)](_0x4cd1a3(0x7b));const _0x293bff=Math['ceil'](_0x3416b1[_0x4cd1a3(0x86)]/PAGE_SIZE);if(_0x24510f<0x1||_0x24510f>_0x293bff)return _0x1a5770['reply'](_0x4cd1a3(0xb0)+_0x293bff+'.');let _0x5780fa='üéµ\x20Your\x20Playlist\x20(Page\x20'+_0x24510f+'/'+_0x293bff+'):\x0a';const _0xb358ea=(_0x24510f-0x1)*PAGE_SIZE,_0x225b84=Math[_0x4cd1a3(0xa2)](_0xb358ea+PAGE_SIZE,_0x3416b1[_0x4cd1a3(0x86)]);_0x3416b1['slice'](_0xb358ea,_0x225b84)[_0x4cd1a3(0x85)]((_0x5d2581,_0x382170)=>{const _0x48ee35=_0x4cd1a3;_0x5780fa+='\x0a'+(_0xb358ea+_0x382170+0x1)+'.\x20'+_0x5d2581['query']+'\x20by\x20'+_0x5d2581[_0x48ee35(0xab)]+'\x20['+_0x5d2581[_0x48ee35(0xa7)]+']';}),_0x5780fa+=_0x4cd1a3(0xb1),_0x1a5770[_0x4cd1a3(0x92)](_0x5780fa,(_0x694781,_0xdf7f58)=>{const _0x2af087=_0x4cd1a3;global['GoatBot']['onReply']['set'](_0xdf7f58[_0x2af087(0xa5)],{'commandName':_0x2af087(0xaf),'author':_0x42b6d4,'requester':_0x42b6d4,'playlist':_0x3416b1,'currentPage':_0x24510f,'sentMessageID':_0xdf7f58[_0x2af087(0xa5)]});});}function _0x41f6(){const _0x24a66a=['data','2MULiuD','forEach','length','setMessageReaction','üö´\x20Your\x20playlist\x20is\x20already\x20empty.','link','42osSsEJ','add','createWriteStream','timestamp','11qezSMy','unsendMessage','üéâ\x20Here\x20is\x20your\x20requested\x20song!\x20Enjoy!\x20üé∂\x0aTitle:\x20','‚ùå\x20Removed\x20\x22','reply','requester','\x22\x20from\x20your\x20playlist.','existsSync','üö´\x20Invalid\x20index.\x20Provide\x20a\x20number\x20from\x20your\x20playlist.','364DvgzOT','\x22...','1216031wqvaGx','298048WiBgQv','16600970rTGmsh','316OAJPon','name','‚ö†\x20An\x20error\x20occurred\x20while\x20processing\x20your\x20request.\x20Please\x20try\x20again.','test','fs-extra','del','min','yt-search','senderID','messageID','trim','duration','body','üö´\x20Invalid\x20input.\x20Reply\x20with\x20a\x20song\x20index\x20to\x20play\x20or\x20`page\x20<number>`\x20to\x20switch\x20pages.','join','author','push','splice','948925KlfCDG','playlist','üö´\x20Invalid\x20page\x20number.\x20Please\x20choose\x20a\x20number\x20between\x201\x20and\x20','\x0a\x0aReply\x20with\x20the\x20index\x20number\x20to\x20play\x20a\x20song\x20or\x20\x22page\x20<number>\x22\x20to\x20switch\x20pages.','Failed\x20to\x20download\x20audio:\x20','videoId','split','üö´\x20Invalid\x20selection.\x20Provide\x20a\x20number\x20corresponding\x20to\x20a\x20playlist\x20item.','error','https://ytdl-v3-by-nzr.onrender.com/mp3?url=https://www.youtube.com/watch?v=','.mp3','3.0','Failed\x20to\x20fetch\x20download\x20link\x20from\x20API','NZ\x20R','message','exports','createReadStream','39IRmiHO','stream','‚ùì\x20Unknown\x20command.\x20Use\x20`playlist\x20add\x20<song>`,\x20`playlist\x20del\x20<index>`,\x20or\x20`playlist\x20reset`.','finish','2703564tttKVe','title','‚úÖ\x20Added\x20\x22','utils','query','üéß\x20Your\x20playlist\x20is\x20empty.\x20Use\x20`playlist\x20add\x20<song>`\x20to\x20add\x20songs.','15464853dqUtYO','readJsonSync','12981pNvvoX','get','\x22\x20to\x20your\x20playlist.','reset','resolve'];_0x41f6=function(){return _0x24a66a;};return _0x41f6();}
